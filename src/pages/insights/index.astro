---
import { Image } from "@astrojs/image/components";
import PageHeader from "@components/PageHeader.astro";
import Shape from "@components/Shape.astro";
import Base from "@layouts/Base.astro";
import Cta from "@layouts/partials/Cta.astro";
import { getEntryBySlug } from "astro:content";
import { AiFillCheckCircle } from "react-icons/ai/index.js";
const projects = await getEntryBySlug("projects", "index");
const { perfomance, our_works } = projects.data;
const page_data = {
  ...projects.data,
  content: projects.body,
};

import { sanityClient } from "sanity:client";

const posts = await sanityClient.fetch(`*[_type == "project"]`);
---

<Base
  title={projects.data.title}
  meta_title={projects.data.meta_title}
  description={projects.data.description}
>
  
  <section class="page-hero pb-14 pt-16">
    <div class="container">
      <div class="page-hero-content mx-auto max-w-[883px] text-center">
        <PageHeader page_data={page_data} />
      </div>
    </div>
  </section>

  <section class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
    {posts && posts.map((post: any) => (
      <div class="p-6 bg-white shadow-lg rounded-md">
        <img src="https://c0.wallpaperflare.com/preview/483/210/436/car-green-4x4-jeep.jpg" alt="rover" class="w-full h-48 object-cover mb-4 rounded-md" />
        <span class="tag tag-teal">Technology</span>
        <h4 class="text-xl font-semibold mb-2">{post.title}</h4>
        <p class="text-gray-700">{post.description}</p>
        <div class="user flex items-center mt-4">
          <img src="https://yt3.ggpht.com/a/AGF-l7-0J1G0Ue0mcZMw-99kMeVuBmRxiPjyvIYONg=s900-c-k-c0xffffffff-no-rj-mo" alt="user" class="w-10 h-10 rounded-full mr-2" />
          <div class="user-info">
            <h5 class="text-gray-900 font-semibold">July Dec</h5>
            <small class="text-gray-600">2h ago</small>
          </div>
        </div>
      </div>
    ))}
  </section>

  <Cta />
</Base>
